<a href="#" class="nav-link px-0" data-bs-toggle="dropdown" tabindex="-1" aria-label="Show notifications">
    <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2"
        stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
        <path d="M10 5a2 2 0 1 1 4 0a7 7 0 0 1 4 6v3a4 4 0 0 0 2 3h-16a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6">
        </path>
        <path d="M9 17v1a3 3 0 0 0 6 0v-1"></path>
    </svg>
    {{#if data.logs}}
    <span class="badge bg-red notification-check"></span>
    {{/if}}
</a>
<div class="dropdown-menu dropdown-menu-arrow dropdown-menu-end dropdown-menu-card"
    style="width: 80vw;max-width: 500px;">
    {{#if data.logs}}
    <div class="card" style="min-width: 30vw;">
        <div class="card-header">
            <h3 class="card-title">Recent activity</h3>
        </div>
        <div class="list-group list-group-flush list-group-hoverable notifications">
            {{#each data.logs as |log|}}
            <div class="list-group-item">
                <div class="row">
                    <div class="col-auto">
                        <a href="/{{log.actorType}}/{{log.actor._id}}">
                            {{#if (eq log.actorType 'customer')}}
                            <span class="avatar bg-red-lt">{{getFirstTwoLetters log.actor.name}}</span>
                            {{else}}
                            <span class="avatar bg-green-lt">{{getFirstTwoLetters log.actor.name}}</span>
                            {{/if}}
                        </a>
                    </div>
                    <div class="col">
                        <div class="">
                            {{{log.action}}}
                            {{#if log.changes}}
                            {{#each log.changes}}
                            <br>
                            <span class="badge bg-green-lt mt-1"></b3>{{camelCaseToNormalString this.key}}</span>
                            {{#if this.oldValue}}
                            <span class="text-decoration-line-through">{{{this.oldValue}}}</span>
                            {{/if}}
                            {{#if this.newValue}}
                            <span>{{{this.newValue}}}</span>
                            {{/if}}
                            {{/each}}
                            {{/if}}
                        </div>
                        <div class="text-secondary">{{timeAgo log.timestamp}}</div>
                    </div>
                    <div class="col-auto align-self-center cursor-pointer">
                        <div class="col-auto">
                            <a class="list-group-item-actions" log-id="{{log._id}}" onclick="clearNotification(this)">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-x">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                    <path d="M18 6l-12 12" />
                                    <path d="M6 6l12 12" />
                                </svg>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            {{/each}}
        </div>
    </div>
    {{else}}
    <div class="card" style="min-width:30vw">
        <div class="card-header">
            <h3 class="card-title">No new notifications</h3>
        </div>
        <div class="card-body text-center">
            <button type="button" class="btn" onclick="$(this).closest('.dropdown-menu').removeClass('show');">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                    class="icon icon-tabler icons-tabler-outline icon-tabler-x">
                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                    <path d="M18 6l-12 12" />
                    <path d="M6 6l12 12" />
                </svg>
                Close
            </button>
        </div>
    </div>
    {{/if}}
</div>